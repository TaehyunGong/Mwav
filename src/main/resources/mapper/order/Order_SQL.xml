<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="order">
	
	<!--/*========================================등록========================================*/  -->
	<insert id="insertOrderForm" parameterType="net.mwav.order.vo.OrderCartVO">
		<![CDATA[
			INSERT INTO ordercart_tbl(orderCart_id, ocChoiceDt, goods_id, ocAmount, gcr_id, ocIpAddress) values(#{orderCart_id},#{ocChoiceDt},#{goods_id},#{ocAmount},#{gcr_id},#{ocIpAddress})
		]]>
	</insert>

    <!--/*========================================보기========================================*/  -->

  
	<!--/*======================+==================수정========================================*/  -->
	
	<update id="updateOrderCart" parameterType="hashmap" >
		<![CDATA[
	       update ordercart_tbl set  ocAmount= #{ocAmount} where orderCart_id = #{orderCart_id} and goods_id = #{goods_id}
		]]>
	</update>
	
	<!--/*========================================리스트(SelctOne, SelectList 순)========================================*/  -->
	
	<select id="selectisOrderCart" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
	      select count(*) as count, ocAmount from ordercart_tbl where orderCart_id= #{ForderCart_id} and goods_id = #{Fgoods_id}
		]]>
	</select>
	
	<select id="selectOneOrderTotalCount" resultType="int">
	<![CDATA[
	   select count(*) from ordercart_tbl
	]]>
	</select>
	
	
	<!-- SELECT GOODS_ID 고고   -->
		<select id="selectListOrderCartList" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
	select c.* from (select @ROWNUM := @ROWNUM + 1 AS ROWNUM, a.* from (SELECT oc.orderCart_id,
       oc.ocChoiceDt,
       oc.goods_id AS A,
       oc.ocOption,
       oc.ocAmount,
       oc.gcr_id,
       oc.ocIpAddress,
       oc.statistics_id,gm.*
  FROM ordercart_tbl oc, goodsmaster_tbl gm
    where (oc.orderCart_id = #{orderCart_id} ) and (oc.goods_id = gm.goods_id) order by ocChoiceDt asc) a,  (SELECT @ROWNUM := 0) R ) c where c.ROWNUM >= #{startRow} and c.ROWNUM <= #{endRow}
	
	]]>
	</select>
	
	<!--/*========================================삭제========================================*/  -->
	
	


</mapper>